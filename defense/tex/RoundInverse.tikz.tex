\begin{tikzpicture}[xscale=1,yscale=0.65,>=latex,ultra thick]
% Reference grid (temporary)
%\draw[help lines] (0,0) grid (16,32);

% Entry arrows
\foreach \i in {32,...,1} {
  \draw[->] (-1.5,\i-0.5) -- (0,\i-0.5);
}

% Wires
\foreach \j in {1,3,5} {
  \foreach \i in {32,...,1} {
    \draw (\j,\i-0.5) -- (\j+1,\i-0.5);
  }
}

% Round key box
\draw[fill=gray!10] (0,0) rectangle (1,32) node[midway] {$\bigoplus$};

% Mixers
\foreach \i in {32,30,...,2} {
  \draw[fill=gray!20] (2,\i) rectangle (3,\i-2) node[midway] {$\mathbf{M}^{-1}$};
}

% P-boxes
\draw[fill=gray!30] (4,0) rectangle (5,32) node[midway] {\Large$\mathbf{\pi}^{-1}$};

% S-boxes
\foreach \i in {32,...,1} {
  \draw[fill=gray!40] (6,\i) rectangle (7,\i-1) node[midway] {$\mathbf{S}^{-1}$} ;
}


% Exit arrows
\foreach \i in {32,...,1} {
  \draw[->] (7,\i-0.5) -- (8.5,\i-0.5);
}

\end{tikzpicture}

